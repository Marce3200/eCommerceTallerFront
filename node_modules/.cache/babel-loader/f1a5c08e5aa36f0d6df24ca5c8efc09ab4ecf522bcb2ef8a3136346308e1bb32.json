{"ast":null,"code":"import axios from \"axios\";\nimport { useAuth } from \"./AuthProvider\";\nconst baseURL = process.env.REACT_APP_API_URL;\nconst signIn_API = async (username, password) => {\n  const datos = {\n    username: username,\n    password: password\n  };\n  try {\n    const result = await axios.post(`${baseURL}/user/signin`, datos);\n    return result;\n  } catch (error) {\n    return false;\n  }\n};\nconst saveToken = async token => {\n  console.log(\"tokenlogin \" + token);\n  localStorage.setItem(\"token\", token);\n  console.log(await readToken());\n};\nconst readToken = async () => {\n  return localStorage.getItem(\"token\");\n};\nconst signIn = async (username, password) => {\n  const result = await signIn_API(username, password);\n  if (result) {\n    saveToken(result.data.token);\n    return result.data.user;\n  }\n  return false;\n};\nconst signUp_API = async (name, username, password) => {\n  const datos = {\n    name: name,\n    username: username,\n    password: password\n  };\n  try {\n    const result = await axios.post(`${baseURL}/user/signup`, datos, {\n      withCredentials: true\n    });\n    return result;\n  } catch (error) {\n    return false;\n  }\n};\nconst registroUsuario = async (name, username, password1, password2) => {\n  if (!name || !username || !password1 || !password2) {\n    return false;\n  }\n  if (password1 !== password2) {\n    return false;\n  }\n  const result = await signUp_API(name, username, password1);\n  if (result) {\n    return true;\n  }\n  return false;\n};\nconst logout = async () => {\n  localStorage.removeItem(\"token\");\n  console.log(\"saliendo\");\n};\nexport { signIn, readToken, registroUsuario, logout };","map":{"version":3,"names":["axios","useAuth","baseURL","process","env","REACT_APP_API_URL","signIn_API","username","password","datos","result","post","error","saveToken","token","console","log","localStorage","setItem","readToken","getItem","signIn","data","user","signUp_API","name","withCredentials","registroUsuario","password1","password2","logout","removeItem"],"sources":["/Users/marcelaquezada/workspace/eCommerce frontend/src/services/user.service.js"],"sourcesContent":["import axios from \"axios\";\nimport { useAuth } from \"./AuthProvider\";\n\nconst baseURL = process.env.REACT_APP_API_URL;\nconst signIn_API = async (username, password) => {\n  const datos = {\n    username: username,\n    password: password,\n  };\n  try {\n    const result = await axios.post(`${baseURL}/user/signin`, datos);\n    return result;\n  } catch (error) {\n    return false;\n  }\n};\n\nconst saveToken = async (token) => {\n  console.log(\"tokenlogin \"+ token )\n  localStorage.setItem(\"token\", token);\n  console.log(await readToken());\n};\nconst readToken = async () => {\n  return localStorage.getItem(\"token\");\n};\n\nconst signIn = async (username, password) => {\n \n  const result = await signIn_API(username, password);\n\n  if (result) {\n    saveToken(result.data.token);\n   \n    return result.data.user;\n  }\n  return false;\n};\nconst signUp_API = async (name, username, password) => {\n  const datos = {\n    name: name,\n    username: username,\n    password: password,\n  };\n  try {\n    const result = await axios.post(`${baseURL}/user/signup`, datos, {\n    withCredentials: true,\n    });\n    return result;\n  } catch (error) {\n    return false;\n  }\n};\nconst registroUsuario = async (name, username, password1, password2) => {\n  if (!name || !username || !password1 || !password2) {\n    return false;\n  }\n\n  if (password1 !== password2) {\n    return false;\n  }\n  const result = await signUp_API(name, username, password1);\n\n  if (result) {\n    return true;\n  }\n  return false;\n};\n\nconst logout = async () => {\n  localStorage.removeItem(\"token\");\n  console.log(\"saliendo\")\n};\n\nexport { signIn, readToken, registroUsuario, logout };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,gBAAgB;AAExC,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAC7C,MAAMC,UAAU,GAAG,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAC/C,MAAMC,KAAK,GAAG;IACZF,QAAQ,EAAEA,QAAQ;IAClBC,QAAQ,EAAEA;EACZ,CAAC;EACD,IAAI;IACF,MAAME,MAAM,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAE,GAAET,OAAQ,cAAa,EAAEO,KAAK,CAAC;IAChE,OAAOC,MAAM;EACf,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,OAAO,KAAK;EACd;AACF,CAAC;AAED,MAAMC,SAAS,GAAG,MAAOC,KAAK,IAAK;EACjCC,OAAO,CAACC,GAAG,CAAC,aAAa,GAAEF,KAAK,CAAE;EAClCG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,KAAK,CAAC;EACpCC,OAAO,CAACC,GAAG,CAAC,MAAMG,SAAS,EAAE,CAAC;AAChC,CAAC;AACD,MAAMA,SAAS,GAAG,YAAY;EAC5B,OAAOF,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC;AACtC,CAAC;AAED,MAAMC,MAAM,GAAG,OAAOd,QAAQ,EAAEC,QAAQ,KAAK;EAE3C,MAAME,MAAM,GAAG,MAAMJ,UAAU,CAACC,QAAQ,EAAEC,QAAQ,CAAC;EAEnD,IAAIE,MAAM,EAAE;IACVG,SAAS,CAACH,MAAM,CAACY,IAAI,CAACR,KAAK,CAAC;IAE5B,OAAOJ,MAAM,CAACY,IAAI,CAACC,IAAI;EACzB;EACA,OAAO,KAAK;AACd,CAAC;AACD,MAAMC,UAAU,GAAG,OAAOC,IAAI,EAAElB,QAAQ,EAAEC,QAAQ,KAAK;EACrD,MAAMC,KAAK,GAAG;IACZgB,IAAI,EAAEA,IAAI;IACVlB,QAAQ,EAAEA,QAAQ;IAClBC,QAAQ,EAAEA;EACZ,CAAC;EACD,IAAI;IACF,MAAME,MAAM,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAE,GAAET,OAAQ,cAAa,EAAEO,KAAK,EAAE;MACjEiB,eAAe,EAAE;IACjB,CAAC,CAAC;IACF,OAAOhB,MAAM;EACf,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,OAAO,KAAK;EACd;AACF,CAAC;AACD,MAAMe,eAAe,GAAG,OAAOF,IAAI,EAAElB,QAAQ,EAAEqB,SAAS,EAAEC,SAAS,KAAK;EACtE,IAAI,CAACJ,IAAI,IAAI,CAAClB,QAAQ,IAAI,CAACqB,SAAS,IAAI,CAACC,SAAS,EAAE;IAClD,OAAO,KAAK;EACd;EAEA,IAAID,SAAS,KAAKC,SAAS,EAAE;IAC3B,OAAO,KAAK;EACd;EACA,MAAMnB,MAAM,GAAG,MAAMc,UAAU,CAACC,IAAI,EAAElB,QAAQ,EAAEqB,SAAS,CAAC;EAE1D,IAAIlB,MAAM,EAAE;IACV,OAAO,IAAI;EACb;EACA,OAAO,KAAK;AACd,CAAC;AAED,MAAMoB,MAAM,GAAG,YAAY;EACzBb,YAAY,CAACc,UAAU,CAAC,OAAO,CAAC;EAChChB,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;AACzB,CAAC;AAED,SAASK,MAAM,EAAEF,SAAS,EAAEQ,eAAe,EAAEG,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}